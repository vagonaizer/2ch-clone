<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Админ-панель</title>
    <link rel="stylesheet" href="/static/styles/dvach.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div class="admin-panel">
        <h2 class="admin-panel__title">Админ-панель</h2>
        <a href="/admin/logout" class="admin-panel__logout">Выйти</a>
        <div class="admin-panel__welcome">Добро пожаловать, админ!</div>
        <h3>Список тредов</h3>
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Board</th>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Date</th>
                    <th>Sticky</th>
                    <th>Locked</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                {{range .Threads}}
                <tr>
                    <td>{{.ID}}</td>
                    <td>{{.BoardSlug}}</td>
                    <td>{{if .Title}}{{.Title}}{{else}}<i>Без названия</i>{{end}}</td>
                    <td>{{.Author}}</td>
                    <td>{{.CreatedAt.Format "02.01.2006 15:04"}}</td>
                    <td>{{if .Sticky}}Да{{else}}Нет{{end}}</td>
                    <td>{{if .Locked}}Да{{else}}Нет{{end}}</td>
                    <td>
                        <form method="post" action="/admin/threads/{{.ID}}/delete" style="display:inline">
                            <button type="submit">Удалить</button>
                        </form>
                        <form method="post" action="/admin/threads/{{.ID}}/sticky" style="display:inline">
                            <button type="submit">{{if .Sticky}}Unsticky{{else}}Sticky{{end}}</button>
                        </form>
                        <form method="post" action="/admin/threads/{{.ID}}/lock" style="display:inline">
                            <button type="submit">{{if .Locked}}Unlock{{else}}Lock{{end}}</button>
                        </form>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</body>
</html> 